{% extends 'layout.html' %}

{% block content %}
    <div class="container">

        <div style="margin-bottom: 10px">
            <a class="btn btn-success" href="/upload/model_form/add/">
                <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
                新建图片
            </a>
        </div>
        <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading">
                <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span>
                图片列表
            </div>

            <!-- Table -->
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>图片</th>
                    <th>名称</th>
                    <th>类型</th>
                </tr>
                </thead>
                <tbody>
                {% for obj in queryset %}
                    <tr>
                        <th>{{ obj.id }}</th>
                        <td style="width: 220px;">
                            <img class="img-popup" src="/media/{{ obj.img }}" style="height: 80px; width: 120px;">
                        </td>
                        <td>{{ obj.name }}</td>
                        <td>{{ obj.type }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>




<!-- 实现点击放大操作 -->
<!-- 引入 jQuery 和 Magnific Popup CSS -->
<link rel="stylesheet" href="//cdn.staticfile.org/magnific-popup.js/1.1.0/magnific-popup.min.css">
<!-- 引入 jQuery -->
<script src="//cdn.staticfile.org/jquery/3.6.0/jquery.min.js"></script>
<!-- 引入 Magnific Popup JS -->
<script src="//cdn.staticfile.org/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
<script>
    $(document).ready(function() {
        $('.img-popup').magnificPopup({
            type:'image',
            closeOnContentClick: true,
            closeBtnInside: false,
            fixedContentPos: true,
            mainClass: 'mfp-no-margins mfp-with-zoom', // class to remove default margin from left and right side
            image: {
                verticalFit: true
            },
            zoom: {
                enabled: true,
                duration: 300 // don't forget to change the duration also in CSS
            }
        });
    });
</script>


{% endblock %}